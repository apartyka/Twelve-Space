/* ==========================================================================
   Twelve-Space Structure System [v0.4.0]
   ========================================================================== */
/*!
 * Twelve-Space Structure System v0.4.0
 * Created by Kevin Mack
 * http://stash/users/kmack/repos/twelve-space
 *
 * Date: 2013-11-08
 */

/**
 * Display types
 */

%block-setup, %block, %show, %display-block {
	display: block;
}

.block, .show, .display-block {
	@extend %block-setup;
}

%inline-block-setup, %inline-block, %display-inline-block {
	display: inline-block;
}

.inline-block, .display-inline-block {
	@extend %inline-block-setup;
}

%inline-setup, %inline, %display-inline {
	display: inline-block;
}

.inline, .display-inline {
	@extend %inline-setup;
}

%hidden-setup, %hidden, %hide, %display-hidden {
	display: hidden;
}

.hidden, .hide, .display-hidden {
	@extend %hidden-setup;
}

/**
 * Z-Index for Absolute and Relative Positions
 * Used for layering
 */


%position-relative-setup, %position-relative, %relative {
	position: relative;
}

.position-relative, .relative {
	@extend %position-relative-setup;
}

%position-absolute-setup, %position-absolute, %absolute {
	position: absolute;
}

.position-absolute, .absolute {
	@extend %position-absolute-setup;
}


%position-setup, %position, %position--1 {
	@extend %position-relative;
	z-index: 1;
}

.position, .position--1 {
	@extend %position-setup;
	z-index: 1;
}

%overflow-setup, %overflow, %overflow-hidden, %hidden {
	overflow: hidden;
}

.overflow-hidden, .hidden {
	@extend %overflow-setup;
}

%overflow-hidden--x-setup, %overflow-hidden--x, %hidden--x {
	overflow-x: hidden;

}

.overflow-hidden--x, .hidden--x {
	@extend %overflow-hidden--x-setup;
}

%overflow-hidden--y-setup, %overflow-hidden--y, %hidden--y {
	overflow-y: hidden;

}

.overflow-hidden--y, .hidden--y {
	@extend %overflow-hidden--y-setup;
}


/**
 * Vertical Alignment for `space--table--12` types
 */

%vertical-align, %vertical-align--middle {
	vertical-align: middle;
}

.vertical-align, .vertical-align--middle {
	@extend %vertical-align;
}

%vertical-align--baseline {
	vertical-align: baseline;
}

.vertical-align--baseline {
	@extend %vertical-align--baseline;
}

.vertical-align--bottom {
	vertical-align: bottom;
}

.vertical-align--bottom {
	@extend %vertical-align--bottom;
}

%vertical-align--text-bottom {
	vertical-align: text-bottom;
}

.vertical-align--text-bottom {
	@extend %vertical-align--text-bottom;
}

%vertical-align--top {
	vertical-align: top;
}

.vertical-align--top {
	@extend %vertical-align--top;
}

%vertical-align--bottom {
	vertical-align: bottom;
}

.vertical-align--bottom {
	@extend %vertical-align--bottom;
}

@for $i from 0 through 12 {
	%position-relative--#{$i} {
		@extend .position-relative;
		z-index: $i;
	}
	.position-relative--#{$i} {
		@extend %position-relative--#{$i};
	}
}

@for $i from 0 through 12 {
	%position-absolute--#{$i} {
		@extend .position-absolute;
		z-index: $i;
	}
	.position-absolute--#{$i} {
		@extend %position-absolute--#{$i};
	}
}

%space {
	> .space__cell {
		&:nth-child(odd) {
			float: left;
		}
		&:nth-child(even) {
			float: right;
		}
	}
}

/**
 * Image Height Disfactor!
 * Make an `<img />` not be the deciding factor of height
 * Usage:
```
   	<div class="overflow-control">
   		<div class="space__cell overflow-control__wrapper">
   			<img class="overflow-control__wrapper__image" src="http://placehold.it/100x150" />
   		</div>
   	</div>
```
 * Pre fixed with "ns-" follow namespacing and inheritance path of:
```
   	<div class="ns-overflow-control"> <!-- Must follow path of ns-overflow-control > class*="space__cell" > img -->
   		<div class="space__cell">  <!-- Any combo of `class*="space__cell"` -->
   			<img src="http://placehold.it/100x150" /> <!-- This gets the treatment -->
   		</div>
   	</div>
```
 */

.overflow-control, .ns-overflow-control {
	@extend .overflow-hidden--y;
}

.ns-overflow-control {
	> div {
		@extend .position-relative;
		> img {
			@extend .position-absolute;
		}
	}
}

.overflow-control__wrapper {
	@extend .position-relative;
}

.overflow-control__wrapper__image {
	@extend .position-absolute;
}


/**
 * space
 * Inherits `%space` properties
 * **nth-child(1n)** is `float: left` and **nth-child(2n)** is `float: right`
 */

.space {
	@extend %space;
}


/**
 * Image Widths
 * `.space__cell--asset` and `.asset-container` make children `<img />` width equal to "100%"
 */

 %full {
	display: block;
	width: 100%;
 }

img.full  {
	@extend %full;
}

%cell-child--full {
	.full {
		width: 100%;
	}
}

%space__cell--asset-setup, %space__cell--asset, %asset-container {
	@extend %cell-child--full;
	img {
		@extend img.full;
		width: 100%;
	}
}

.space__cell--asset.space__cell--asset, .asset-container {
	@extend %space__cell--asset-setup;
}

%space-setup, %space, %space--12 {
	@extend %cell-child--full;
}

.space, .space--12 {
	@extend %space-setup;
}


/*
 * ## Clear Floats
 */
%clear-setup, %clear, %space__row, %space--table__row {
	clear: both;
}

.clear, .space__row, .space--table__row {
	@extend %clear-setup;
}

%clear-after {
	&:after {
		display: table;
		clear: both;
		content: "";
	}
}

%float--left-or-right {
	> .space__cell--left {
		float: left;
	}
	> .space__cell--right {
		float: right;
	}
}

%float-left {
	float: left;
}

%display-table-cell {
	display: table-cell
}

%display-table {
 	display: table;
}

%space--table-setup, %space--table, %space--table--12, %space--table__row {
	@extend %display-table;
	width: 100%;
}

.space--table, .space--table--12, .space--table__row {
	@extend %space--table-setup;
}

%float--cell--left {
	> .space__cell, .space__row > .space__cell {
		@extend %float-left;
	}
}

%display-cell--table-cell {
	> .space__cell {
		@extend %display-table-cell;
	}
}

/*
 * "Equal Columns"
 * Clears on #nth-child+1 for even rows
 */

@for $i from 1 through 12 {
	%space--equal--#{$i} {
		@extend %clear-after;
		@extend %float--left-or-right;
		@extend  %float--cell--left;
		@extend %cell-child--full;
		> [class*="space__cell"] {
			width: percentage( 1 / $i );
			// Clear for equal space/column heights:
			&:nth-child(#{$i}n+1) {
				clear: both;
			}
		}
	}

	.space--equal--#{$i} {
		@extend %space--equal--#{$i};
	}
}


/**
 * Equal heights for any parent class that has `space` in it
 */

%space-setup--l-or-r, %space, %space--12, %float-container, %space__row {
	@extend  %float--left-or-right;
}

.space, .space--12, .float-container, .space__row {
	@extend  %space-setup--l-or-r;
}

%float-left-setup, %float-container, %space--12, %space__row {
	@extend %float--cell--left;
}

.float-container, .space--12, .space__row {
	@extend %float-left-setup;
}

%space--table--12, %space--table__row {
	@extend %display-cell--table-cell;
}

.space--table--12, .space--table__row {
	@extend %display-cell--table-cell;
}

%space, %space--12 {
	@extend  %clear-after;
}

.space, .space--12 {
	@extend  %clear-after;
}

@mixin generate-space-expand( $space__cell-amount: 1, $space-offset-value: 1, $element-name: "expand", $property: "width", $block-name: "space__cell", $space-column-quanity: 12 ) {
	$class-name: $block-name + "--" + $space__cell-amount + "__" + $element-name + "--" + $space-offset-value;
	%#{$class-name} {
		#{$property}: percentage( 1 + ($space-offset-value / $space__cell-amount) );
	}
	.#{$class-name} {
		@extend %#{$class-name};
	}
	// OUTPUT: .space__cell--{cell spaces}__expand--{cell spaces}
}

@mixin generate-space__cell-offset( $space__cell-amount: 1, $space-offset-value: 1, $element-name: "expand", $property: "width", $positiveOrNegative: 1, $block-name: "space__cell", $space-column-quanity: 12 ) {
	$class-name: $block-name + "__" + $element-name + "--" + $space-offset-value;
	%#{$class-name} {
		#{$property}:  percentage(($space-offset-value / $space-column-quanity)) * $positiveOrNegative;
	}
	.#{$class-name} {
		@extend %#{$class-name};
	}
	// OUTPUT: .space__cell--offset--{cell spaces}
	// OUTPUT: .space__cell--offset--negative--{cell spaces}
}

@mixin generate-space__cell__offset( $space__cell-amount: 1, $space-offset-value: 1, $element-name: "expand", $property: "width", $positiveOrNegative: 1, $block-name: "space__cell", $space-column-quanity: 12 ) {
	$class-name: $block-name + "--" + $space__cell-amount +  "__" + $element-name + "--" + $space-offset-value;
	%#{$class-name} {
		#{$property}: percentage(  ($space-offset-value / $space__cell-amount) ) * -1;
	}
	.#{$class-name} {
		@extend %#{$class-name};
	}
	// OUTPUT: .space__cell--{cell spaces}__offset--{cell spaces}
	// OUTPUT: .space__cell--{cell spaces}__offset--native--{cell spaces}
}


@for $i from 1 through 12 {
	@for $x from 1 through 12 {
		@include generate-space-expand($i, $x);
	}
}

@for $i from 1 through 12 {
	@for $x from 1 through 12 {
		@include generate-space__cell__offset($i, $x, "offset", "margin-right", -1, "space__cell", 12 );
	}
}

@for $i from 1 through 12 {
	@include generate-space__cell-offset(1, $i, "cell--offset", "margin-left", 1, "space", 12 );
}

@for $i from 1 through 12 {
	@include generate-space__cell-offset(1, $i, "cell--offset--negative", "margin-left", -1, "space", 12 );
}

@for $i from 1 through 12 {
	@for $x from 1 through 12 {
		@include generate-space__cell__offset($i, $x, "offset--negative", "margin-left", -1, "space__cell", 12 );
	}
}

@for $i from 1 through 12 {
	%space__cell--#{$i} {
		width: percentage( $i / 12);
	}
	.space__cell--#{$i} {
		@extend %space__cell--#{$i}
	}
}
@for $i from 1 through 12 {
	%space__cell--#{$i} {
		@extend %float-left;
	}
	.space__cell--#{$i} {
		@extend %space__cell--#{$i};
	}
}
@for $i from 1 through 12 {
	%space--table__cell--#{$i} {
		@extend %display-table-cell;
	}
	.space--table__cell--#{$i} {
		@extend %space--table__cell--#{$i};
	}
}


@for $i from 1 through 12 {
	%space__gap--left--#{$i} {
		margin-left: percentage( $i / 12);
	}
	.space__gap--left--#{$i} {
		@extend %space__gap--left--#{$i};
	}
}

@for $i from 1 through 12 {
	%space__gap--right--#{$i} {
		margin-right: percentage( $i / 12);
	}
	.space__gap--right--#{$i} {
		@extend %space__gap--right--#{$i};
	}
}

